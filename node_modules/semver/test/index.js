"use strict";var tap=require("tap"),test=tap.test,semver=require("../semver.js"),eq=semver.eq,gt=semver.gt,lt=semver.lt,neq=semver.neq,cmp=semver.cmp,gte=semver.gte,lte=semver.lte,satisfies=semver.satisfies,validRange=semver.validRange,inc=semver.inc,diff=semver.diff,replaceStars=semver.replaceStars,toComparators=semver.toComparators,SemVer=semver.SemVer,Range=semver.Range;test("\ncomparison tests",function(e){[["0.0.0","0.0.0-foo"],["0.0.1","0.0.0"],["1.0.0","0.9.9"],["0.10.0","0.9.0"],["0.99.0","0.10.0"],["2.0.0","1.2.3"],["v0.0.0","0.0.0-foo",!0],["v0.0.1","0.0.0",!0],["v1.0.0","0.9.9",!0],["v0.10.0","0.9.0",!0],["v0.99.0","0.10.0",!0],["v2.0.0","1.2.3",!0],["0.0.0","v0.0.0-foo",!0],["0.0.1","v0.0.0",!0],["1.0.0","v0.9.9",!0],["0.10.0","v0.9.0",!0],["0.99.0","v0.10.0",!0],["2.0.0","v1.2.3",!0],["1.2.3","1.2.3-asdf"],["1.2.3","1.2.3-4"],["1.2.3","1.2.3-4-foo"],["1.2.3-5-foo","1.2.3-5"],["1.2.3-5","1.2.3-4"],["1.2.3-5-foo","1.2.3-5-Foo"],["3.0.0","2.7.2+asdf"],["1.2.3-a.10","1.2.3-a.5"],["1.2.3-a.b","1.2.3-a.5"],["1.2.3-a.b","1.2.3-a"],["1.2.3-a.b.c.10.d.5","1.2.3-a.b.c.5.d.100"],["1.2.3-r2","1.2.3-r100"],["1.2.3-r100","1.2.3-R2"]].forEach(function(a){var r=a[0],t=a[1],p=a[2];e.ok(gt(r,t,p),"gt('"+r+"', '"+t+"')"),e.ok(lt(t,r,p),"lt('"+t+"', '"+r+"')"),e.ok(!gt(t,r,p),"!gt('"+t+"', '"+r+"')"),e.ok(!lt(r,t,p),"!lt('"+r+"', '"+t+"')"),e.ok(eq(r,r,p),"eq('"+r+"', '"+r+"')"),e.ok(eq(t,t,p),"eq('"+t+"', '"+t+"')"),e.ok(neq(r,t,p),"neq('"+r+"', '"+t+"')"),e.ok(cmp(t,"==",t,p),"cmp('"+t+"' == '"+t+"')"),e.ok(cmp(r,">=",t,p),"cmp('"+r+"' >= '"+t+"')"),e.ok(cmp(t,"<=",r,p),"cmp('"+t+"' <= '"+r+"')"),e.ok(cmp(r,"!=",t,p),"cmp('"+r+"' != '"+t+"')")}),e.end()}),test("\nequality tests",function(e){[["1.2.3","v1.2.3",!0],["1.2.3","=1.2.3",!0],["1.2.3","v 1.2.3",!0],["1.2.3","= 1.2.3",!0],["1.2.3"," v1.2.3",!0],["1.2.3"," =1.2.3",!0],["1.2.3"," v 1.2.3",!0],["1.2.3"," = 1.2.3",!0],["1.2.3-0","v1.2.3-0",!0],["1.2.3-0","=1.2.3-0",!0],["1.2.3-0","v 1.2.3-0",!0],["1.2.3-0","= 1.2.3-0",!0],["1.2.3-0"," v1.2.3-0",!0],["1.2.3-0"," =1.2.3-0",!0],["1.2.3-0"," v 1.2.3-0",!0],["1.2.3-0"," = 1.2.3-0",!0],["1.2.3-1","v1.2.3-1",!0],["1.2.3-1","=1.2.3-1",!0],["1.2.3-1","v 1.2.3-1",!0],["1.2.3-1","= 1.2.3-1",!0],["1.2.3-1"," v1.2.3-1",!0],["1.2.3-1"," =1.2.3-1",!0],["1.2.3-1"," v 1.2.3-1",!0],["1.2.3-1"," = 1.2.3-1",!0],["1.2.3-beta","v1.2.3-beta",!0],["1.2.3-beta","=1.2.3-beta",!0],["1.2.3-beta","v 1.2.3-beta",!0],["1.2.3-beta","= 1.2.3-beta",!0],["1.2.3-beta"," v1.2.3-beta",!0],["1.2.3-beta"," =1.2.3-beta",!0],["1.2.3-beta"," v 1.2.3-beta",!0],["1.2.3-beta"," = 1.2.3-beta",!0],["1.2.3-beta+build"," = 1.2.3-beta+otherbuild",!0],["1.2.3+build"," = 1.2.3+otherbuild",!0],["1.2.3-beta+build","1.2.3-beta+otherbuild"],["1.2.3+build","1.2.3+otherbuild"],["  v1.2.3+build","1.2.3+otherbuild"]].forEach(function(a){var r=a[0],t=a[1],p=a[2];e.ok(eq(r,t,p),"eq('"+r+"', '"+t+"')"),e.ok(!neq(r,t,p),"!neq('"+r+"', '"+t+"')"),e.ok(cmp(r,"==",t,p),"cmp("+r+"=="+t+")"),e.ok(!cmp(r,"!=",t,p),"!cmp("+r+"!="+t+")"),e.ok(!cmp(r,"===",t,p),"!cmp("+r+"==="+t+")"),e.ok(cmp(r,"!==",t,p),"cmp("+r+"!=="+t+")"),e.ok(!gt(r,t,p),"!gt('"+r+"', '"+t+"')"),e.ok(gte(r,t,p),"gte('"+r+"', '"+t+"')"),e.ok(!lt(r,t,p),"!lt('"+r+"', '"+t+"')"),e.ok(lte(r,t,p),"lte('"+r+"', '"+t+"')")}),e.end()}),test("\nrange tests",function(e){[["1.0.0 - 2.0.0","1.2.3"],["^1.2.3+build","1.2.3"],["^1.2.3+build","1.3.0"],["1.2.3-pre+asdf - 2.4.3-pre+asdf","1.2.3"],["1.2.3pre+asdf - 2.4.3-pre+asdf","1.2.3",!0],["1.2.3-pre+asdf - 2.4.3pre+asdf","1.2.3",!0],["1.2.3pre+asdf - 2.4.3pre+asdf","1.2.3",!0],["1.2.3-pre+asdf - 2.4.3-pre+asdf","1.2.3-pre.2"],["1.2.3-pre+asdf - 2.4.3-pre+asdf","2.4.3-alpha"],["1.2.3+asdf - 2.4.3+asdf","1.2.3"],["1.0.0","1.0.0"],[">=*","0.2.4"],["","1.0.0"],["*","1.2.3"],["*","v1.2.3",!0],[">=1.0.0","1.0.0"],[">=1.0.0","1.0.1"],[">=1.0.0","1.1.0"],[">1.0.0","1.0.1"],[">1.0.0","1.1.0"],["<=2.0.0","2.0.0"],["<=2.0.0","1.9999.9999"],["<=2.0.0","0.2.9"],["<2.0.0","1.9999.9999"],["<2.0.0","0.2.9"],[">= 1.0.0","1.0.0"],[">=  1.0.0","1.0.1"],[">=   1.0.0","1.1.0"],["> 1.0.0","1.0.1"],[">  1.0.0","1.1.0"],["<=   2.0.0","2.0.0"],["<= 2.0.0","1.9999.9999"],["<=  2.0.0","0.2.9"],["<    2.0.0","1.9999.9999"],["<	2.0.0","0.2.9"],[">=0.1.97","v0.1.97",!0],[">=0.1.97","0.1.97"],["0.1.20 || 1.2.4","1.2.4"],[">=0.2.3 || <0.0.1","0.0.0"],[">=0.2.3 || <0.0.1","0.2.3"],[">=0.2.3 || <0.0.1","0.2.4"],["||","1.3.4"],["2.x.x","2.1.3"],["1.2.x","1.2.3"],["1.2.x || 2.x","2.1.3"],["1.2.x || 2.x","1.2.3"],["x","1.2.3"],["2.*.*","2.1.3"],["1.2.*","1.2.3"],["1.2.* || 2.*","2.1.3"],["1.2.* || 2.*","1.2.3"],["*","1.2.3"],["2","2.1.2"],["2.3","2.3.1"],["~2.4","2.4.0"],["~2.4","2.4.5"],["~>3.2.1","3.2.2"],["~1","1.2.3"],["~>1","1.2.3"],["~> 1","1.2.3"],["~1.0","1.0.2"],["~ 1.0","1.0.2"],["~ 1.0.3","1.0.12"],[">=1","1.0.0"],[">= 1","1.0.0"],["<1.2","1.1.1"],["< 1.2","1.1.1"],["~v0.5.4-pre","0.5.5"],["~v0.5.4-pre","0.5.4"],["=0.7.x","0.7.2"],["<=0.7.x","0.7.2"],[">=0.7.x","0.7.2"],["<=0.7.x","0.6.2"],["~1.2.1 >=1.2.3","1.2.3"],["~1.2.1 =1.2.3","1.2.3"],["~1.2.1 1.2.3","1.2.3"],["~1.2.1 >=1.2.3 1.2.3","1.2.3"],["~1.2.1 1.2.3 >=1.2.3","1.2.3"],["~1.2.1 1.2.3","1.2.3"],[">=1.2.1 1.2.3","1.2.3"],["1.2.3 >=1.2.1","1.2.3"],[">=1.2.3 >=1.2.1","1.2.3"],[">=1.2.1 >=1.2.3","1.2.3"],[">=1.2","1.2.8"],["^1.2.3","1.8.1"],["^0.1.2","0.1.2"],["^0.1","0.1.2"],["^1.2","1.4.2"],["^1.2 ^1","1.4.2"],["^1.2.3-alpha","1.2.3-pre"],["^1.2.0-alpha","1.2.0-pre"],["^0.0.1-alpha","0.0.1-beta"]].forEach(function(a){var r=a[0],t=a[1],p=a[2];e.ok(satisfies(t,r,p),r+" satisfied by "+t)}),e.end()}),test("\nnegative range tests",function(e){[["1.0.0 - 2.0.0","2.2.3"],["1.2.3+asdf - 2.4.3+asdf","1.2.3-pre.2"],["1.2.3+asdf - 2.4.3+asdf","2.4.3-alpha"],["^1.2.3+build","2.0.0"],["^1.2.3+build","1.2.0"],["^1.2.3","1.2.3-pre"],["^1.2","1.2.0-pre"],[">1.2","1.3.0-beta"],["<=1.2.3","1.2.3-beta"],["^1.2.3","1.2.3-beta"],["=0.7.x","0.7.0-asdf"],[">=0.7.x","0.7.0-asdf"],["1","1.0.0beta",!0],["<1","1.0.0beta",!0],["< 1","1.0.0beta",!0],["1.0.0","1.0.1"],[">=1.0.0","0.0.0"],[">=1.0.0","0.0.1"],[">=1.0.0","0.1.0"],[">1.0.0","0.0.1"],[">1.0.0","0.1.0"],["<=2.0.0","3.0.0"],["<=2.0.0","2.9999.9999"],["<=2.0.0","2.2.9"],["<2.0.0","2.9999.9999"],["<2.0.0","2.2.9"],[">=0.1.97","v0.1.93",!0],[">=0.1.97","0.1.93"],["0.1.20 || 1.2.4","1.2.3"],[">=0.2.3 || <0.0.1","0.0.3"],[">=0.2.3 || <0.0.1","0.2.2"],["2.x.x","1.1.3"],["2.x.x","3.1.3"],["1.2.x","1.3.3"],["1.2.x || 2.x","3.1.3"],["1.2.x || 2.x","1.1.3"],["2.*.*","1.1.3"],["2.*.*","3.1.3"],["1.2.*","1.3.3"],["1.2.* || 2.*","3.1.3"],["1.2.* || 2.*","1.1.3"],["2","1.1.2"],["2.3","2.4.1"],["~2.4","2.5.0"],["~2.4","2.3.9"],["~>3.2.1","3.3.2"],["~>3.2.1","3.2.0"],["~1","0.2.3"],["~>1","2.2.3"],["~1.0","1.1.0"],["<1","1.0.0"],[">=1.2","1.1.1"],["1","2.0.0beta",!0],["~v0.5.4-beta","0.5.4-alpha"],["=0.7.x","0.8.2"],[">=0.7.x","0.6.2"],["<0.7.x","0.7.2"],["<1.2.3","1.2.3-beta"],["=1.2.3","1.2.3-beta"],[">1.2","1.2.8"],["^1.2.3","2.0.0-alpha"],["^1.2.3","1.2.2"],["^1.2","1.1.9"],["*","v1.2.3-foo",!0],["blerg","1.2.3"],["git+https://user:password0123@github.com/foo","123.0.0",!0],["^1.2.3","2.0.0-pre"]].forEach(function(a){var r=a[0],t=a[1],p=a[2],l=satisfies(t,r,p);e.ok(!l,t+" not satisfied by "+r)}),e.end()}),test("\nincrement versions test",function(e){[["1.2.3","major","2.0.0"],["1.2.3","minor","1.3.0"],["1.2.3","patch","1.2.4"],["1.2.3tag","major","2.0.0",!0],["1.2.3-tag","major","2.0.0"],["1.2.3","fake",null],["1.2.0-0","patch","1.2.0"],["fake","major",null],["1.2.3-4","major","2.0.0"],["1.2.3-4","minor","1.3.0"],["1.2.3-4","patch","1.2.3"],["1.2.3-alpha.0.beta","major","2.0.0"],["1.2.3-alpha.0.beta","minor","1.3.0"],["1.2.3-alpha.0.beta","patch","1.2.3"],["1.2.4","prerelease","1.2.5-0"],["1.2.3-0","prerelease","1.2.3-1"],["1.2.3-alpha.0","prerelease","1.2.3-alpha.1"],["1.2.3-alpha.1","prerelease","1.2.3-alpha.2"],["1.2.3-alpha.2","prerelease","1.2.3-alpha.3"],["1.2.3-alpha.0.beta","prerelease","1.2.3-alpha.1.beta"],["1.2.3-alpha.1.beta","prerelease","1.2.3-alpha.2.beta"],["1.2.3-alpha.2.beta","prerelease","1.2.3-alpha.3.beta"],["1.2.3-alpha.10.0.beta","prerelease","1.2.3-alpha.10.1.beta"],["1.2.3-alpha.10.1.beta","prerelease","1.2.3-alpha.10.2.beta"],["1.2.3-alpha.10.2.beta","prerelease","1.2.3-alpha.10.3.beta"],["1.2.3-alpha.10.beta.0","prerelease","1.2.3-alpha.10.beta.1"],["1.2.3-alpha.10.beta.1","prerelease","1.2.3-alpha.10.beta.2"],["1.2.3-alpha.10.beta.2","prerelease","1.2.3-alpha.10.beta.3"],["1.2.3-alpha.9.beta","prerelease","1.2.3-alpha.10.beta"],["1.2.3-alpha.10.beta","prerelease","1.2.3-alpha.11.beta"],["1.2.3-alpha.11.beta","prerelease","1.2.3-alpha.12.beta"],["1.2.0","prepatch","1.2.1-0"],["1.2.0-1","prepatch","1.2.1-0"],["1.2.0","preminor","1.3.0-0"],["1.2.3-1","preminor","1.3.0-0"],["1.2.0","premajor","2.0.0-0"],["1.2.3-1","premajor","2.0.0-0"],["1.2.0-1","minor","1.2.0"],["1.0.0-1","major","1.0.0"],["1.2.3","major","2.0.0",!1,"dev"],["1.2.3","minor","1.3.0",!1,"dev"],["1.2.3","patch","1.2.4",!1,"dev"],["1.2.3tag","major","2.0.0",!0,"dev"],["1.2.3-tag","major","2.0.0",!1,"dev"],["1.2.3","fake",null,!1,"dev"],["1.2.0-0","patch","1.2.0",!1,"dev"],["fake","major",null,!1,"dev"],["1.2.3-4","major","2.0.0",!1,"dev"],["1.2.3-4","minor","1.3.0",!1,"dev"],["1.2.3-4","patch","1.2.3",!1,"dev"],["1.2.3-alpha.0.beta","major","2.0.0",!1,"dev"],["1.2.3-alpha.0.beta","minor","1.3.0",!1,"dev"],["1.2.3-alpha.0.beta","patch","1.2.3",!1,"dev"],["1.2.4","prerelease","1.2.5-dev.0",!1,"dev"],["1.2.3-0","prerelease","1.2.3-dev.0",!1,"dev"],["1.2.3-alpha.0","prerelease","1.2.3-dev.0",!1,"dev"],["1.2.3-alpha.0","prerelease","1.2.3-alpha.1",!1,"alpha"],["1.2.3-alpha.0.beta","prerelease","1.2.3-dev.0",!1,"dev"],["1.2.3-alpha.0.beta","prerelease","1.2.3-alpha.1.beta",!1,"alpha"],["1.2.3-alpha.10.0.beta","prerelease","1.2.3-dev.0",!1,"dev"],["1.2.3-alpha.10.0.beta","prerelease","1.2.3-alpha.10.1.beta",!1,"alpha"],["1.2.3-alpha.10.1.beta","prerelease","1.2.3-alpha.10.2.beta",!1,"alpha"],["1.2.3-alpha.10.2.beta","prerelease","1.2.3-alpha.10.3.beta",!1,"alpha"],["1.2.3-alpha.10.beta.0","prerelease","1.2.3-dev.0",!1,"dev"],["1.2.3-alpha.10.beta.0","prerelease","1.2.3-alpha.10.beta.1",!1,"alpha"],["1.2.3-alpha.10.beta.1","prerelease","1.2.3-alpha.10.beta.2",!1,"alpha"],["1.2.3-alpha.10.beta.2","prerelease","1.2.3-alpha.10.beta.3",!1,"alpha"],["1.2.3-alpha.9.beta","prerelease","1.2.3-dev.0",!1,"dev"],["1.2.3-alpha.9.beta","prerelease","1.2.3-alpha.10.beta",!1,"alpha"],["1.2.3-alpha.10.beta","prerelease","1.2.3-alpha.11.beta",!1,"alpha"],["1.2.3-alpha.11.beta","prerelease","1.2.3-alpha.12.beta",!1,"alpha"],["1.2.0","prepatch","1.2.1-dev.0","dev"],["1.2.0-1","prepatch","1.2.1-dev.0","dev"],["1.2.0","preminor","1.3.0-dev.0","dev"],["1.2.3-1","preminor","1.3.0-dev.0","dev"],["1.2.0","premajor","2.0.0-dev.0","dev"],["1.2.3-1","premajor","2.0.0-dev.0","dev"],["1.2.0-1","minor","1.2.0","dev"],["1.0.0-1","major","1.0.0","dev"],["1.2.3-dev.bar","prerelease","1.2.3-dev.0",!1,"dev"]].forEach(function(a){var r=a[0],t=a[1],p=a[2],l=a[3],s=a[4],o=inc(r,t,l,s),n="inc("+r+", "+t+", "+s+")";e.equal(o,p,n+" === "+p)}),e.end()}),test("\ndiff versions test",function(e){[["1.2.3","0.2.3","major"],["1.4.5","0.2.3","major"],["1.2.3","2.0.0-pre","premajor"],["1.2.3","1.3.3","minor"],["1.0.1","1.1.0-pre","preminor"],["1.2.3","1.2.4","patch"],["1.2.3","1.2.4-pre","prepatch"],["0.0.1","0.0.1-pre","prerelease"],["0.0.1","0.0.1-pre-2","prerelease"],["1.1.0","1.1.0-pre","prerelease"],["1.1.0-pre-1","1.1.0-pre-2","prerelease"],["1.0.0","1.0.0",null]].forEach(function(a){var r=a[0],t=a[1],p=a[2],l=diff(r,t),s="diff("+r+", "+t+")";e.equal(l,p,s+" === "+p)}),e.end()}),test("\nvalid range test",function(e){[["1.0.0 - 2.0.0",">=1.0.0 <=2.0.0"],["1.0.0","1.0.0"],[">=*","*"],["","*"],["*","*"],["*","*"],[">=1.0.0",">=1.0.0"],[">1.0.0",">1.0.0"],["<=2.0.0","<=2.0.0"],["1",">=1.0.0 <2.0.0"],["<=2.0.0","<=2.0.0"],["<=2.0.0","<=2.0.0"],["<2.0.0","<2.0.0"],["<2.0.0","<2.0.0"],[">= 1.0.0",">=1.0.0"],[">=  1.0.0",">=1.0.0"],[">=   1.0.0",">=1.0.0"],["> 1.0.0",">1.0.0"],[">  1.0.0",">1.0.0"],["<=   2.0.0","<=2.0.0"],["<= 2.0.0","<=2.0.0"],["<=  2.0.0","<=2.0.0"],["<    2.0.0","<2.0.0"],["<	2.0.0","<2.0.0"],[">=0.1.97",">=0.1.97"],[">=0.1.97",">=0.1.97"],["0.1.20 || 1.2.4","0.1.20||1.2.4"],[">=0.2.3 || <0.0.1",">=0.2.3||<0.0.1"],[">=0.2.3 || <0.0.1",">=0.2.3||<0.0.1"],[">=0.2.3 || <0.0.1",">=0.2.3||<0.0.1"],["||","||"],["2.x.x",">=2.0.0 <3.0.0"],["1.2.x",">=1.2.0 <1.3.0"],["1.2.x || 2.x",">=1.2.0 <1.3.0||>=2.0.0 <3.0.0"],["1.2.x || 2.x",">=1.2.0 <1.3.0||>=2.0.0 <3.0.0"],["x","*"],["2.*.*",">=2.0.0 <3.0.0"],["1.2.*",">=1.2.0 <1.3.0"],["1.2.* || 2.*",">=1.2.0 <1.3.0||>=2.0.0 <3.0.0"],["*","*"],["2",">=2.0.0 <3.0.0"],["2.3",">=2.3.0 <2.4.0"],["~2.4",">=2.4.0 <2.5.0"],["~2.4",">=2.4.0 <2.5.0"],["~>3.2.1",">=3.2.1 <3.3.0"],["~1",">=1.0.0 <2.0.0"],["~>1",">=1.0.0 <2.0.0"],["~> 1",">=1.0.0 <2.0.0"],["~1.0",">=1.0.0 <1.1.0"],["~ 1.0",">=1.0.0 <1.1.0"],["^0",">=0.0.0 <1.0.0"],["^ 1",">=1.0.0 <2.0.0"],["^0.1",">=0.1.0 <0.2.0"],["^1.0",">=1.0.0 <2.0.0"],["^1.2",">=1.2.0 <2.0.0"],["^0.0.1",">=0.0.1 <0.0.2"],["^0.0.1-beta",">=0.0.1-beta <0.0.2"],["^0.1.2",">=0.1.2 <0.2.0"],["^1.2.3",">=1.2.3 <2.0.0"],["^1.2.3-beta.4",">=1.2.3-beta.4 <2.0.0"],["<1","<1.0.0"],["< 1","<1.0.0"],[">=1",">=1.0.0"],[">= 1",">=1.0.0"],["<1.2","<1.2.0"],["< 1.2","<1.2.0"],["1",">=1.0.0 <2.0.0"],[">01.02.03",">1.2.3",!0],[">01.02.03",null],["~1.2.3beta",">=1.2.3-beta <1.3.0",!0],["~1.2.3beta",null],["^ 1.2 ^ 1",">=1.2.0 <2.0.0 >=1.0.0 <2.0.0"]].forEach(function(a){var r=a[0],t=a[1],p=a[2],l=validRange(r,p);e.equal(l,t,"validRange("+r+") === "+t)}),e.end()}),test("\ncomparators test",function(e){[["1.0.0 - 2.0.0",[[">=1.0.0","<=2.0.0"]]],["1.0.0",[["1.0.0"]]],[">=*",[[""]]],["",[[""]]],["*",[[""]]],["*",[[""]]],[">=1.0.0",[[">=1.0.0"]]],[">=1.0.0",[[">=1.0.0"]]],[">=1.0.0",[[">=1.0.0"]]],[">1.0.0",[[">1.0.0"]]],[">1.0.0",[[">1.0.0"]]],["<=2.0.0",[["<=2.0.0"]]],["1",[[">=1.0.0","<2.0.0"]]],["<=2.0.0",[["<=2.0.0"]]],["<=2.0.0",[["<=2.0.0"]]],["<2.0.0",[["<2.0.0"]]],["<2.0.0",[["<2.0.0"]]],[">= 1.0.0",[[">=1.0.0"]]],[">=  1.0.0",[[">=1.0.0"]]],[">=   1.0.0",[[">=1.0.0"]]],["> 1.0.0",[[">1.0.0"]]],[">  1.0.0",[[">1.0.0"]]],["<=   2.0.0",[["<=2.0.0"]]],["<= 2.0.0",[["<=2.0.0"]]],["<=  2.0.0",[["<=2.0.0"]]],["<    2.0.0",[["<2.0.0"]]],["<	2.0.0",[["<2.0.0"]]],[">=0.1.97",[[">=0.1.97"]]],[">=0.1.97",[[">=0.1.97"]]],["0.1.20 || 1.2.4",[["0.1.20"],["1.2.4"]]],[">=0.2.3 || <0.0.1",[[">=0.2.3"],["<0.0.1"]]],[">=0.2.3 || <0.0.1",[[">=0.2.3"],["<0.0.1"]]],[">=0.2.3 || <0.0.1",[[">=0.2.3"],["<0.0.1"]]],["||",[[""],[""]]],["2.x.x",[[">=2.0.0","<3.0.0"]]],["1.2.x",[[">=1.2.0","<1.3.0"]]],["1.2.x || 2.x",[[">=1.2.0","<1.3.0"],[">=2.0.0","<3.0.0"]]],["1.2.x || 2.x",[[">=1.2.0","<1.3.0"],[">=2.0.0","<3.0.0"]]],["x",[[""]]],["2.*.*",[[">=2.0.0","<3.0.0"]]],["1.2.*",[[">=1.2.0","<1.3.0"]]],["1.2.* || 2.*",[[">=1.2.0","<1.3.0"],[">=2.0.0","<3.0.0"]]],["1.2.* || 2.*",[[">=1.2.0","<1.3.0"],[">=2.0.0","<3.0.0"]]],["*",[[""]]],["2",[[">=2.0.0","<3.0.0"]]],["2.3",[[">=2.3.0","<2.4.0"]]],["~2.4",[[">=2.4.0","<2.5.0"]]],["~2.4",[[">=2.4.0","<2.5.0"]]],["~>3.2.1",[[">=3.2.1","<3.3.0"]]],["~1",[[">=1.0.0","<2.0.0"]]],["~>1",[[">=1.0.0","<2.0.0"]]],["~> 1",[[">=1.0.0","<2.0.0"]]],["~1.0",[[">=1.0.0","<1.1.0"]]],["~ 1.0",[[">=1.0.0","<1.1.0"]]],["~ 1.0.3",[[">=1.0.3","<1.1.0"]]],["~> 1.0.3",[[">=1.0.3","<1.1.0"]]],["<1",[["<1.0.0"]]],["< 1",[["<1.0.0"]]],[">=1",[[">=1.0.0"]]],[">= 1",[[">=1.0.0"]]],["<1.2",[["<1.2.0"]]],["< 1.2",[["<1.2.0"]]],["1",[[">=1.0.0","<2.0.0"]]],["1 2",[[">=1.0.0","<2.0.0",">=2.0.0","<3.0.0"]]],["1.2 - 3.4.5",[[">=1.2.0","<=3.4.5"]]],["1.2.3 - 3.4",[[">=1.2.3","<3.5.0"]]],["1.2.3 - 3",[[">=1.2.3","<4.0.0"]]],[">*",[["<0.0.0"]]],["<*",[["<0.0.0"]]]].forEach(function(a){var r=a[0],t=a[1],p=toComparators(a[0]),l=JSON.stringify(t);e.equivalent(p,t,"toComparators("+r+") === "+l)}),e.end()}),test("\ninvalid version numbers",function(e){["1.2.3.4","NOT VALID",1.2,null,"Infinity.NaN.Infinity"].forEach(function(a){e["throws"](function(){new SemVer(a)},{name:"TypeError",message:"Invalid Version: "+a})}),e.end()}),test("\nstrict vs loose version numbers",function(e){[["=1.2.3","1.2.3"],["01.02.03","1.2.3"],["1.2.3-beta.01","1.2.3-beta.1"],["   =1.2.3","1.2.3"],["1.2.3foo","1.2.3-foo"]].forEach(function(a){var r=a[0],t=a[1];e["throws"](function(){new SemVer(r)});var p=new SemVer(r,!0);e.equal(p.version,t),e.ok(eq(r,t,!0)),e["throws"](function(){eq(r,t)}),e["throws"](function(){new SemVer(t).compare(r)})}),e.end()}),test("\nstrict vs loose ranges",function(e){[[">=01.02.03",">=1.2.3"],["~1.02.03beta",">=1.2.3-beta <1.3.0"]].forEach(function(a){var r=a[0],t=a[1];e["throws"](function(){new Range(r)}),e.equal(new Range(r,!0).range,t)}),e.end()}),test("\nmax satisfying",function(e){[[["1.2.3","1.2.4"],"1.2","1.2.4"],[["1.2.4","1.2.3"],"1.2","1.2.4"],[["1.2.3","1.2.4","1.2.5","1.2.6"],"~1.2.3","1.2.6"],[["1.1.0","1.2.0","1.2.1","1.3.0","2.0.0b1","2.0.0b2","2.0.0b3","2.0.0","2.1.0"],"~2.0.0","2.0.0",!0]].forEach(function(a){var r=a[0],t=a[1],p=a[2],l=a[3],s=semver.maxSatisfying(r,t,l);e.equal(s,p)}),e.end()});