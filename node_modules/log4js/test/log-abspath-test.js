"use strict";var vows=require("vows"),assert=require("assert"),path=require("path"),sandbox=require("sandboxed-module");vows.describe("log4js-abspath").addBatch({options:{topic:function(){var e,o=sandbox.require("../lib/log4js",{requires:{"./appenders/fake":{name:"fake",appender:function(){},configure:function(o,t){return e=t,function(){}}}}}),t={appenders:[{type:"fake",filename:"cheesy-wotsits.log"}]};return o.configure(t,{cwd:"/absolute/path/to"}),e},"should be passed to appenders during configuration":function(e){assert.equal(e.cwd,"/absolute/path/to")}},"file appender":{topic:function(){var e,o=sandbox.require("../lib/appenders/file",{requires:{"../streams":{RollingFileStream:function(o){return e=o,{on:function(){},end:function(){}}}}}});return o.configure({filename:"whatever.log",maxLogSize:10},{cwd:"/absolute/path/to"}),e},"should prepend options.cwd to config.filename":function(e){var o=path.sep+path.join("absolute","path","to","whatever.log");assert.equal(e,o)}}})["export"](module);